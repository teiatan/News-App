{"mappings":"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","sources":["src/js/render/newsCardSample.js","src/js/addNewsToReadArrayInLocalStorage.js"],"sourcesContent":["export default gitHubPath = \"/News-App/sprite.601f618d\";\n\nexport function fillAbsentDataInNewsCard() {\n  const newsImg = document.querySelectorAll('.news__img');\n  const newsTitle = document.querySelectorAll('.news__title');\n  const newsAbstract = document.querySelectorAll('.news__abstract');\n  const newsCategory = document.querySelectorAll('.news__category');\n  const newsLink = document.querySelectorAll('.news__link');\n  const newsFavorite = document.querySelectorAll('.news__favorite');\n\n  newsImg.forEach( function defaultImage(el) {\n    if (el.src === null || el.src === undefined || el.src === '') {\n      el.src=\"https://wellesleysocietyofartists.org/wp-content/uploads/2015/11/image-not-found.jpg\";\n    };\n    if (el.src.slice((el.src.length-3),(el.src.length)) === 'png') {\n      el.src=\"https://wellesleysocietyofartists.org/wp-content/uploads/2015/11/image-not-found.jpg\";\n    };\n\n  })\n\n  newsTitle.forEach( function defaultTitle(el) {\n    if (el.textContent === null || undefined || '') {\n      el.textContent = 'Something goes wrong - no title';\n    };\n  })\n  \n  newsCategory.forEach( function defaultCategory(el) {\n    if (el.textContent === null || el.textContent === undefined || el.textContent === '') {\n    el.textContent = 'No category';\n    };\n  })\n\n  newsAbstract.forEach( function defaultAbstract(el) {\n    if (el.textContent === null || el.textContent === undefined || el.textContent === '') {\n    el.textContent = \"We couldn't download description of this article, sorry\";\n    };\n    if (el.textContent.length > 140) {\n      el.textContent = `${el.textContent.slice(0,140)} ...`;\n    }\n  })\n\n\n  newsFavorite.forEach( function textContentforBtn(el) {\n    \n    try {\n      \n      const filledFavoriteArray = JSON.parse(localStorage.getItem (\"favorite\"));\n      if(Array.isArray(filledFavoriteArray)) {\n        const elId = el.closest('li').dataset.id;\n        const newsId = filledFavoriteArray.findIndex((news) =>\n          news.id === elId);\n\n        if(newsId === -1) {\n          el.textContent = \"Add to favorite\";\n        } else {\n          el.textContent = \"Remove from favorite\";\n        };\n      }\n     } catch(error) {el.textContent = \"Add to favorite\";};\n\n    if (el.textContent === null || el.textContent === undefined || el.textContent === '') {\n    el.textContent = 'No category';\n    };\n    \n  })\n};\n\n/*\n`\n          <li class=\"news__item card\" data-id=${id}>\n            <p class=\"news__Already-read\">Already read &#128504\n              <svg class=\"news__svg news_svg-alreagy-read>\n                  <use href=\"/sprite.e70822e0.svg#Vector-1\"></use>\n              </svg>\n            </p>\n            <div class=\"news__container\">\n              <span class=\"news__read is-hidden\"></span>\n              <div class=\"news__container-img\">\n              <button class=\"news__favorite\">Add to favorite\n              <svg class=\"news__svg news__svg-heart\">\n                  <use href=\"/sprite.e70822e0.svg#heartDisable\"></use>\n              </svg>\n              <svg class=\"news__svg news__svg-heart\" style=\"display:none\">\n                  <use href=\"/sprite.e70822e0.svg#heartActive\"></use>\n              </svg>\n              </button>\n              <img src=\"${imgSrc}\" alt=\"${alt}\" class=\"news__img\"/>\n            </div>\n\n            <h3 class=\"news__title\">${title}</h3>\n            <p class=\"news__abstract\">${abstract}</p>\n              \n            <span class=\"news__date\">${published_date.replaceAll('-' , '/')}</span>\n            <p class=\"news__category news__marker-search\">${subsection}</p>\n            <a href=\"${url}\" class=\"news__link\" target = \"_blank\">Read more</a></div>\n          </li>\n      `\n*/\n// універсальна функція заглушки, яка перевіряє, \n// що в текст контенті тегів, які можуть прийти з бекенду і якщо \n// там пусто (продумати логіку), то виводити заглушку\n// з беку може не прийти картинка, категорія, та будь-що\n// викликається в renderMostViewedNews.js - потестити розкоментуванням\n// тут же перевіряти довжину абстракту і виводити не більше кількох символів\n// подивитись, які ще можуть бути відхилення\n","import Notiflix from 'notiflix';\nimport { refs } from './refs';\nimport { openAuthModal } from './modalOpening';\n\n\nexport function addNewsToReadArrayInLocalStorage() {\n  const containerWithCards = document.querySelector('.render-container');\n  containerWithCards.addEventListener('click', addNewsToReadArray);\n\n\n}\n\n\nfunction addNewsToReadArray(event) {\n    \n  if (event.target.getAttribute('class') === \"news__link\") {\n    console.log('клік ту рід працює');\n    const favoriteTargetElement = event.target.closest('li');\n    favoriteTargetElement.classList.add('was-read');\n    const newsTargetObject = {\n        id: favoriteTargetElement.dataset.id,\n        category: favoriteTargetElement.lastElementChild.children[5].innerText,\n        title: favoriteTargetElement.lastElementChild.children[2].innerText,\n        img: favoriteTargetElement.lastElementChild.children[1].children[1].attributes.src.nodeValue,\n        description: favoriteTargetElement.lastElementChild.children[3].innerText,\n        date: favoriteTargetElement.lastElementChild.children[4].innerText,\n        link: favoriteTargetElement.lastElementChild.children[6].attributes[0].value,\n        favorite: true,\n        wasRead: '',\n      };\n\n    const dayArrayFromLocalStorage = localStorage.dayNews;\n\n    if(dayArrayFromLocalStorage === null || dayArrayFromLocalStorage === undefined || dayArrayFromLocalStorage === \"\" || dayArrayFromLocalStorage === [] || dayArrayFromLocalStorage === {}) {\n      //console.log(\"localStorage порожній\");\n      localStorage.setItem (\"dayNews\", JSON.stringify(newsTargetObject));\n      \n    } else {\n      //console.log(\"localStorage не порожній\");\n      const filledFavoriteArray = JSON.parse(localStorage.getItem (\"dayNews\"));\n      //console.log(filledFavoriteArray);\n      //console.log(typeof filledFavoriteArray);\n      if(filledFavoriteArray.id === newsTargetObject.id) {\n        localStorage.favorite = \"\";\n        \n      } else {\n        //console.log(Array.isArray(filledFavoriteArray));\n\n        if(Array.isArray(filledFavoriteArray)) {\n          const newsId = filledFavoriteArray.findIndex((news) =>\n            news.id === newsTargetObject.id\n          );\n          //console.log(newsId);\n              if(newsId === -1) {\n                const box = filledFavoriteArray;\n                box.push(newsTargetObject);\n                localStorage.setItem (\"dayNews\", JSON.stringify(box));\n                //console.log(filledFavoriteArray);\n              } else {\n                const box = filledFavoriteArray;\n                box.splice(newsId, 1);\n                localStorage.setItem (\"dayNews\", JSON.stringify(box));\n                //console.log(filledFavoriteArray);\n              };\n\n        } else {\n          //const box = [];\n          //console.log(typeof box);\n          //const arrayWith2news = box.push(filledFavoriteArray, newsTargetObject);\n          //console.log(arrayWith2news);\n          const arrayWith2news = [filledFavoriteArray, newsTargetObject];\n          //console.log(typeof arrayWith2news);\n          //console.log(arrayWith2news.length);\n          localStorage.setItem (\"favorite\", JSON.stringify(arrayWith2news));\n          //console.log(arrayWith2news);\n        }\n        /* const newsId = filledFavoriteArray.findIndex((news) => {\n          news.id === newsTargetObject.id;\n        });\n        console.log(newsId);\n        if(newsId === -1) {\n          filledFavoriteArray.push(newsTargetObject);\n        } else {\n          filledFavoriteArray.splice(3, 1);\n        } */\n      } \n    }\n  }\n}\n"],"names":["$9b9cc4bf6b6dce06$export$2e2bcd8739ae039","gitHubPath","$9b9cc4bf6b6dce06$export$6d9a80f71167c2a1","newsImg","document","querySelectorAll","newsTitle","newsAbstract","newsCategory","newsFavorite","forEach","el","src","undefined","slice","length","textContent","filledFavoriteArray","JSON","parse","localStorage","getItem","Array","isArray","elId","closest","dataset","id","newsId","findIndex","news","error","$1b461ca5be2a7628$export$454ef51f97eb29e5","querySelector","addEventListener","$1b461ca5be2a7628$var$addNewsToReadArray","event","target","getAttribute","console","log","favoriteTargetElement","classList","add","newsTargetObject","category","lastElementChild","children","innerText","title","img","attributes","nodeValue","description","date","link","value","favorite","wasRead","dayArrayFromLocalStorage","dayNews","setItem","stringify","box","push","splice","arrayWith2news","parcelRequire"],"version":3,"file":"read.6cc30ab6.js.map"}