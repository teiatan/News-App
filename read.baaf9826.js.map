{"mappings":"khBAKO,SAASA,IACaC,SAASC,cAAc,qBAC/BC,iBAAiB,QAASC,E,CAM/C,SAASA,EAAmBC,GAE1B,GAA2C,eAAvCA,EAAMC,OAAOC,aAAa,SAA2B,CACvDC,QAAQC,IAAI,sBACG,MAATC,EAAwBL,EAAMC,OAAOK,QAAQ,MACnDD,EAAsBE,UAAUC,IAAI,YACpC,MAAMC,EAAmB,CACrBC,GAAIL,EAAsBM,QAAQD,GAClCE,SAAUP,EAAsBQ,iBAAiBC,SAAS,GAAGC,UAC7DC,MAAOX,EAAsBQ,iBAAiBC,SAAS,GAAGC,UAC1DE,IAAKZ,EAAsBQ,iBAAiBC,SAAS,GAAGA,SAAS,GAAGI,WAAWC,IAAIC,UACnFC,YAAahB,EAAsBQ,iBAAiBC,SAAS,GAAGC,UAChEO,KAAMjB,EAAsBQ,iBAAiBC,SAAS,GAAGC,UACzDQ,KAAMlB,EAAsBQ,iBAAiBC,SAAS,GAAGI,WAAW,GAAGM,MACvEC,UAAU,EACVC,QAAS,IAGPC,EAA2BC,aAAaC,QAE9C,GAAGF,SAA4G,KAA7BA,GAAmCA,IAA6B,IAAMA,IAA6B,GAE3KC,aAAKE,QAAS,UAAWC,KAAKC,UAAUvB,QAE3C,CAEL,MAAMwB,EAAsBF,KAAKG,MAAMN,aAAaO,QAAS,YAG7D,GAAGF,EAAoBvB,KAAOD,EAAiBC,GAC7CkB,aAAaH,SAAW,QAKxB,GAAGW,MAAMC,QAAQJ,GAAsB,CACrC,MAAMK,EAASL,EAAoBM,WAAWC,GAC5CA,EAAK9B,KAAOD,EAAiBC,KAG3B,IAAc,IAAX4B,EAAe,CAChB,MAAMG,EAAMR,EACZQ,EAAIC,KAAKjC,GACTmB,aAAaE,QAAS,UAAWC,KAAKC,UAAUS,G,KAE3C,CACL,MAAMA,EAAMR,EACZQ,EAAIE,OAAOL,EAAQ,GACnBV,aAAaE,QAAS,UAAWC,KAAKC,UAAUS,G,MAIjD,CAKL,MAAMG,EAAiB,CAACX,EAAqBxB,GAG7CmB,aAAaE,QAAS,WAAYC,KAAKC,UAAUY,G,mJAzE3DC,EAAA,S","sources":["src/js/addNewsToReadArrayInLocalStorage.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { refs } from './refs';\nimport { openAuthModal } from './modalOpening';\n\n\nexport function addNewsToReadArrayInLocalStorage() {\n  const containerWithCards = document.querySelector('.render-container');\n  containerWithCards.addEventListener('click', addNewsToReadArray);\n\n\n}\n\n\nfunction addNewsToReadArray(event) {\n    \n  if (event.target.getAttribute('class') === \"news__link\") {\n    console.log('клік ту рід працює');\n    const favoriteTargetElement = event.target.closest('li');\n    favoriteTargetElement.classList.add('was-read');\n    const newsTargetObject = {\n        id: favoriteTargetElement.dataset.id,\n        category: favoriteTargetElement.lastElementChild.children[5].innerText,\n        title: favoriteTargetElement.lastElementChild.children[2].innerText,\n        img: favoriteTargetElement.lastElementChild.children[1].children[1].attributes.src.nodeValue,\n        description: favoriteTargetElement.lastElementChild.children[3].innerText,\n        date: favoriteTargetElement.lastElementChild.children[4].innerText,\n        link: favoriteTargetElement.lastElementChild.children[6].attributes[0].value,\n        favorite: true,\n        wasRead: '',\n      };\n\n    const dayArrayFromLocalStorage = localStorage.dayNews;\n\n    if(dayArrayFromLocalStorage === null || dayArrayFromLocalStorage === undefined || dayArrayFromLocalStorage === \"\" || dayArrayFromLocalStorage === [] || dayArrayFromLocalStorage === {}) {\n      //console.log(\"localStorage порожній\");\n      localStorage.setItem (\"dayNews\", JSON.stringify(newsTargetObject));\n      \n    } else {\n      //console.log(\"localStorage не порожній\");\n      const filledFavoriteArray = JSON.parse(localStorage.getItem (\"dayNews\"));\n      //console.log(filledFavoriteArray);\n      //console.log(typeof filledFavoriteArray);\n      if(filledFavoriteArray.id === newsTargetObject.id) {\n        localStorage.favorite = \"\";\n        \n      } else {\n        //console.log(Array.isArray(filledFavoriteArray));\n\n        if(Array.isArray(filledFavoriteArray)) {\n          const newsId = filledFavoriteArray.findIndex((news) =>\n            news.id === newsTargetObject.id\n          );\n          //console.log(newsId);\n              if(newsId === -1) {\n                const box = filledFavoriteArray;\n                box.push(newsTargetObject);\n                localStorage.setItem (\"dayNews\", JSON.stringify(box));\n                //console.log(filledFavoriteArray);\n              } else {\n                const box = filledFavoriteArray;\n                box.splice(newsId, 1);\n                localStorage.setItem (\"dayNews\", JSON.stringify(box));\n                //console.log(filledFavoriteArray);\n              };\n\n        } else {\n          //const box = [];\n          //console.log(typeof box);\n          //const arrayWith2news = box.push(filledFavoriteArray, newsTargetObject);\n          //console.log(arrayWith2news);\n          const arrayWith2news = [filledFavoriteArray, newsTargetObject];\n          //console.log(typeof arrayWith2news);\n          //console.log(arrayWith2news.length);\n          localStorage.setItem (\"favorite\", JSON.stringify(arrayWith2news));\n          //console.log(arrayWith2news);\n        }\n        /* const newsId = filledFavoriteArray.findIndex((news) => {\n          news.id === newsTargetObject.id;\n        });\n        console.log(newsId);\n        if(newsId === -1) {\n          filledFavoriteArray.push(newsTargetObject);\n        } else {\n          filledFavoriteArray.splice(3, 1);\n        } */\n      } \n    }\n  }\n}\n"],"names":["$1b461ca5be2a7628$export$454ef51f97eb29e5","document","querySelector","addEventListener","$1b461ca5be2a7628$var$addNewsToReadArray","event","target","getAttribute","console","log","favoriteTargetElement","closest","classList","add","newsTargetObject","id","dataset","category","lastElementChild","children","innerText","title","img","attributes","src","nodeValue","description","date","link","value","favorite","wasRead","dayArrayFromLocalStorage","localStorage","dayNews","setItem","JSON","stringify","filledFavoriteArray","parse","getItem","Array","isArray","newsId","findIndex","news","box","push","splice","arrayWith2news","parcelRequire"],"version":3,"file":"read.baaf9826.js.map"}